(this["webpackJsonpfun-retro"]=this["webpackJsonpfun-retro"]||[]).push([[0],{163:function(e,t,a){},165:function(e,t,a){},227:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(0),c=a.n(r),s=a(21),o=a.n(s),i=(a(163),a(164),a(165),a(61)),u=a(26),l=a(8),d=a.n(l),j=a(14),p=a(5),b=a(27),f=a.n(b),m=a(312),h=a(307),O=a(59),x=a(308),g=a(309),v=a(313),k=a(314),w=a(315);var y=function(e){e.match;var t=Object(r.useState)([]),a=Object(p.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)(!1),i=Object(p.a)(o,2),l=i[0],b=i[1],y=Object(r.useState)(!1),I=Object(p.a)(y,2),S=I[0],C=I[1],_=Object(r.useState)(""),T=Object(p.a)(_,2),N=T[0],P=T[1],F=Object(r.useState)(null),E=Object(p.a)(F,2),B=E[0],q=E[1],J=Object(u.f)();Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:3001/boards/",{headers:{authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}});case 2:t=e.sent,console.log(t.data.data.listBoards),s(t.data.data.listBoards);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var R=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("http://localhost:3001/boards/",{board_name:N},{headers:{authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}});case 2:(t=e.sent)&&(console.log(t.data.data.boardId),J.push("/boards/".concat(t.data.data.userId,"/").concat(t.data.data.boardId))),b(!1),P("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.patch("http://localhost:3001/boards/".concat(B),{board_name:N});case 2:t=e.sent,s(c.map((function(e){return e.board_id===B?t.data.data.updatedBoard:e}))),console.log(c),C(!1),P("");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e){"name"===e.target.name&&P(e.target.value)},z=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("http://localhost:3001/boards/".concat(t),{userId:1});case 2:a=e.sent,s(c.filter((function(e){return e.board_id!==+a.data.data.deletedBoardId})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)(m.b,{size:"large",children:c&&c.map((function(e,t){return Object(n.jsx)(h.a,{title:e.board_name,bordered:!0,style:{width:300},actions:[Object(n.jsx)(v.a,{onClick:function(){return function(e){C(!0);var t=c.filter((function(t){return t.board_id===e})).map((function(e){return e.board_name}))[0];console.log(t),P(t),q(e)}(e.board_id)}},"edit"),Object(n.jsx)(k.a,{onClick:function(){return z(e.board_id)}},"delete"),Object(n.jsx)(w.a,{onClick:function(){return function(e){J.push("/boards/".concat(e))}(e.board_id)}},"view")]},t)}))}),Object(n.jsx)(O.a,{onClick:function(){b(!0)},children:"Th\xeam"}),Object(n.jsx)(x.a,{title:"Add Board",visible:l,onOk:R,onCancel:function(){P(""),b(!1)},children:Object(n.jsx)(g.a,{placeholder:"Board Name",name:"name",value:N,onChange:U})}),Object(n.jsx)(x.a,{title:"Edit Board",visible:S,onOk:L,onCancel:function(){P(""),C(!1)},children:Object(n.jsx)(g.a,{placeholder:"Board Name",name:"name",value:N,onChange:U})})]})},I=a(10),S=function(e){var t=e.col,a=Object(r.useState)([]),c=Object(p.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(!1),u=Object(p.a)(i,2),l=u[0],b=u[1],m=Object(r.useState)(!1),w=Object(p.a)(m,2),y=w[0],S=w[1],C=Object(r.useState)(""),_=Object(p.a)(C,2),T=_[0],N=_[1],P=Object(r.useState)(null),F=Object(p.a)(P,2),E=F[0],B=F[1];Object(r.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,f.a.get("http://localhost:3001/columns/"+t.columnId);case 3:a=e.sent,console.log(a),o(a.data.data.listCards);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var q=function(){var e=Object(j.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("http://localhost:3001/cards/",{column_id:t.columnId,content:T});case 2:a=e.sent,console.log(a),o([].concat(Object(I.a)(s),[a.data.data.card])),N(""),b(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(j.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.patch("http://localhost:3001/cards/".concat(E),{column_id:t.columnId,content:T});case 2:a=e.sent,n=s.map((function(e){return e.card_id===E?a.data.data.card:e})),o(n),N(""),S(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){"content"===e.target.name&&N(e.target.value)},L=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.delete("http://localhost:3001/cards/".concat(t),{userId:1});case 2:e.sent,o(s.filter((function(e){return e.card_id!==t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:t.columnName}),Object(n.jsx)("br",{}),Object(n.jsx)(O.a,{onClick:function(){b(!0)},children:"Add Card To Column"}),s&&s.map((function(e){return Object(n.jsx)(h.a,{bordered:!1,style:{width:300},size:"default",actions:[Object(n.jsx)(v.a,{onClick:function(){return function(e){console.log(e),S(!0);var t=s.filter((function(t){return t.card_id==e}))[0].content;console.log(t),N(t),B(e)}(e.card_id)}},"edit"),Object(n.jsx)(k.a,{onClick:function(){return L(e.card_id)}},"delete")],children:Object(n.jsx)("p",{children:e.content})},e.card_id)})),Object(n.jsx)(x.a,{title:"Add Card",visible:l,onOk:q,onCancel:function(){N(""),b(!1)},children:Object(n.jsx)(g.a,{placeholder:"Card Content",name:"content",value:T,onChange:R})}),Object(n.jsx)(x.a,{title:"Edit Card",visible:y,onOk:J,onCancel:function(){N(""),S(!1)},children:Object(n.jsx)(g.a,{placeholder:"Card Content",name:"content",value:T,onChange:R})})]})},C=function(e){var t=e.match,a=Object(r.useState)({}),c=Object(p.a)(a,2),s=c[0],o=c[1];console.log("match: ----\x3e ",t);var i=t.params,u=i.userId,l=i.boardId;return Object(r.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:3001/boards/".concat(u,"/").concat(l,"/"));case 2:"success"===(t=e.sent).data.status&&(console.log(t.data.data),o(t.data.data.board));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:s.board_name}),s.columns&&s.columns.map((function(e,t){return Object(n.jsx)(S,{col:e},t)}))]})},_=function(){return Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/boards/:userId",exact:!0,component:y}),Object(n.jsx)(u.a,{path:"/boards/:userId/:boardId",exact:!0,component:C})]})},T=a(306),N=a(310),P=a(316),F=a(317),E=a(145),B=a.n(E),q=a(146),J=a.n(q),R=(a(227),function(){var e=Object(u.f)(),t=function(){var t=Object(j.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Received values of form: ",a),t.prev=1,t.next=4,f.a.post("http://localhost:3001/users/login",a);case 4:(n=t.sent).data.data.accessToken&&n.data.data.refreshToken&&(localStorage.setItem("accessToken",JSON.stringify(n.data.data.accessToken)),localStorage.setItem("refreshToken",JSON.stringify(n.data.data.accessToken))),e.push("/boards/".concat(n.data.data.user.user_id)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=Object(j.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.prev=1,t.next=4,f.a.post("http://localhost:3001/users/google-login",{tokenId:a.tokenId});case 4:(n=t.sent).data.data.accessToken&&n.data.data.refreshToken&&(localStorage.setItem("accessToken",JSON.stringify(n.data.data.accessToken)),localStorage.setItem("refreshToken",JSON.stringify(n.data.data.accessToken))),e.push("/boards/".concat(n.data.data.user.user_id)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(j.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.prev=1,t.next=4,f.a.post("http://localhost:3001/users/facebook-login",{accessToken:a.accessToken,userID:a.userID});case 4:(n=t.sent).data.data.accessToken&&n.data.data.refreshToken&&(localStorage.setItem("accessToken",JSON.stringify(n.data.data.accessToken)),localStorage.setItem("refreshToken",JSON.stringify(n.data.data.accessToken))),e.push("/boards/".concat(n.data.data.user.user_id)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)(T.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:t,onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(n.jsx)("h1",{children:"Login"}),Object(n.jsx)(T.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:Object(n.jsx)(g.a,{prefix:Object(n.jsx)(P.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(n.jsx)(T.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(n.jsx)(g.a,{prefix:Object(n.jsx)(F.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(n.jsxs)(T.a.Item,{children:[Object(n.jsx)(T.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(n.jsx)(N.a,{children:"Remember me"})}),Object(n.jsx)("a",{className:"login-form-forgot",href:"",children:"Forgot password"})]}),Object(n.jsxs)(T.a.Item,{children:[Object(n.jsx)(O.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"}),"Or ",Object(n.jsx)("a",{href:"",children:"register now!"})]}),Object(n.jsx)(J.a,{clientId:"365584952975-peumpl7kdkkqurb72c7n325lveopap25.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:a,onFailure:a,cookiePolicy:"single_host_origin"}),Object(n.jsx)(B.a,{appId:"804911767017673",fields:"name,email,picture",callback:r})]})}),L=a(1),U=a(311),z={labelCol:{span:8},wrapperCol:{span:8}},A={wrapperCol:{offset:8,span:16}},D=function(e){var t=e.match,a=T.a.useForm(),c=Object(p.a)(a,1)[0],s=t.params.userId,o=Object(r.useState)({}),i=Object(p.a)(o,2),u=(i[0],i[1]),l=Object(r.useState)(!1),b=Object(p.a)(l,2),m=b[0],h=b[1];Object(r.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:3001/users/"+s);case 2:"success"===(t=e.sent).data.status&&(console.log(t.data.data.user),u(t.data.data.user),c.setFieldsValue({user_name:t.data.data.user.user_name,email:t.data.data.user.email}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var x=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.patch("http://localhost:3001/users/".concat(s),t);case 2:"success"===(a=e.sent).data.status&&(u(a.data.data.user),h(!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(T.a,Object(L.a)(Object(L.a)({},z),{},{form:c,name:"basic",initialValues:{remember:!0},onFinish:x,onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(n.jsx)(T.a.Item,{label:"Username",name:"user_name",rules:[{required:!0}],children:Object(n.jsx)(g.a,{})}),Object(n.jsx)(T.a.Item,{label:"Email",name:"email",rules:[{required:!0}],children:Object(n.jsx)(g.a,{})}),Object(n.jsx)(T.a.Item,Object(L.a)(Object(L.a)({},A),{},{children:Object(n.jsx)(O.a,{type:"primary",htmlType:"submit",children:"UPDATE"})})),Object(n.jsx)(T.a.Item,{className:"alert",children:m&&Object(n.jsx)(U.a,{message:"Updated Successfully!",description:"You have changed your information.",type:"success",closable:!0,style:{width:500},showIcon:!0,onClose:function(){h(!1)}})})]}))},V=a(318),G=(a(303),function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)("success"),o=Object(p.a)(s,2),i=o[0],u=o[1],l=Object(r.useState)(""),b=Object(p.a)(l,2),m=b[0],h=b[1],x=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Received values of form: ",t),t.repeat_password==t.password){e.next=6;break}u("error"),h("Repeated password does not match with password!"),e.next=23;break;case 6:return e.prev=6,e.next=9,f.a.post("http://localhost:3001/users/register",t);case 9:a=e.sent,console.log(a.data),u("success"),h(a.data.message),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0),u("error"),h(e.t0.message);case 20:return e.prev=20,c(!0),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[6,15,20,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(T.a,{name:"normal_login",className:"login-form",onFinish:x,children:[Object(n.jsx)("h1",{children:"Register"}),Object(n.jsx)(T.a.Item,{name:"user_name",rules:[{required:!0,message:"Please input your Username!"}],children:Object(n.jsx)(g.a,{prefix:Object(n.jsx)(P.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(n.jsx)(T.a.Item,{name:"email",rules:[{required:!0,message:"Please input your Email!"}],children:Object(n.jsx)(g.a,{prefix:Object(n.jsx)(V.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(n.jsx)(T.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(n.jsx)(g.a.Password,{prefix:Object(n.jsx)(F.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(n.jsx)(T.a.Item,{name:"repeat_password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(n.jsx)(g.a.Password,{prefix:Object(n.jsx)(F.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Repeat password"})}),Object(n.jsxs)(T.a.Item,{children:[Object(n.jsx)(O.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Register"}),"Or ",Object(n.jsx)("a",{href:"",children:"Login now!"})]}),a&&Object(n.jsx)(U.a,{message:m,type:i,closable:!0,style:{width:500},showIcon:!0,onClose:function(){c(!1)}})]})}),M=function(){return Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/users/login/",exact:!0,component:R}),Object(n.jsx)(u.a,{path:"/users/register",exact:!0,component:G}),Object(n.jsx)(u.a,{path:"/users/:userId",exact:!0,component:D})]})};var Y=function(){return Object(n.jsxs)(i.a,{children:[Object(n.jsx)(u.a,{to:"/boards",component:_}),Object(n.jsx)(u.a,{to:"/users",component:M})]})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,319)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Y,{})}),document.getElementById("root")),H()}},[[304,1,2]]]);
//# sourceMappingURL=main.15807768.chunk.js.map